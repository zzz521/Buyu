<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>Document</title>
	<style>
        a{
            display: block;
            text-align: left;
            margin-top: 10px;
        }
        #pic{
            height: 400px;
            width: 800px;
            position: absolute;
            top:35px;
            left:365px;
        }
    </style>
</head>
<body>
	<ul id="img-wall">
		<li><a href="img1/1.jpg" title="222">吾王亚瑟01</a></li>
		<li><a href="img1/3.jpg" title="222">吾王亚瑟03</a></li>
		<li><a href="img1/4.jpg" false" title="333">吾王亚瑟04</a></li>
		<li><a href="img1/5.jpg" title="444">吾王亚瑟05</a></li>
		<li><a href="img1/6.jpg" false" title="555">吾王亚瑟06</a></li>
		<li><a href="img1/7.jpg" title="666">吾王亚瑟07</a></li>
		<li><a href="img1/8.jpg" title="777">吾王亚瑟08</a></li>
		<li><a href="img1/9.jpg" title="888">吾王亚瑟09</a></li>
	</ul>

    <img id="pic">
    <p id="desc">this is a title</p>

    <script>
    	//预留退路 js功能被禁用时 也可以访问图片

    	//将js和html文档分离

    	//添加事件处理函数 检查浏览器是否包含某些方法

    	function prepareGallery(){
    		if(!document.getElementById) return false;
    		if(!document.getElementsByTagName) return false;
    		if(!document.getElementById("img-wall")) return false;
    		//如果false直接跳出循环
    		console.log('aaa');
    		//创建必有的变量省略操作
    		var gallery = document.getElementById("img-wall");
    		var links = gallery.getElementsByTagName('a');
    		//循环
    		for(var i=0;i<links.length;i++){
    			links[i].onclick = function(){	
    				return showPic(this);
    			}
    		}
    	}

    	function showPic(pic) {
    		//检查元素是否存在
    		if(!document.getElementById('pic')) return true;
            var picBox = document.getElementById('pic');
            // console.log(pic);
            var add = pic.getAttribute('href');
            picBox.setAttribute('src',add);
            // console.log(picBox);
            if(!document.getElementById('desc')) return false;
            var desc = document.getElementById('desc');
            var title = pic.getAttribute('title');
            // console.log(title);
            desc.firstChild.nodeValue = title;
            return false;
        }



    	// window.onload = function(){
    	// 	prepareGallery();
    	// }
    	// console.log(typeof window.onload);
    	//window.onload没被定义的时候是Object  被定义之后就是function

    	console.log(window.onload);

    	function addLoadEvent(func){
    		var oldonload = window.onload;
    		if(typeof window.onload != 'function'){
    			window.onload = func;
    		}else{
    			window.onload = function(){
    				oldonload();
    				func();
    			}
    		}
    	}

    	addLoadEvent(prepareGallery);


    </script>
</body>
</html>